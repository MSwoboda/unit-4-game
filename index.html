<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>



    <link rel="stylesheet" href="assets/css/style.css">
    <title>Crystal Collector</title>
</head>

<body class="bg-dark">
    <div class="container bg-dark">
        <div class="container-fluid">
            <div class="row p-0">
                <div class="col-xs-7">
                    <div class="jumbotron  text-white">

                        <div class=row>
                            <div class="col-12">
                                <div class="card text-dark bg-light ">
                                    <div class="card-body ">
                                        <h2 class="card-title font-weight-bold font-large-resp">Crystal Collector <span id="wins" class="float-right badge badge-danger mr-2"> Loses: 0</span> <span id="loses" class="float-right badge badge-success mr-2">Wins: 0</span> </h2>
                                        <div class="display-3 text-center"> <button id="start" class="btn btn-primary btn-choice dispabled  centered" value="1">
        <h1 id="number">?</h1>
      </button>
                                            <br>



                                        </div>


                                        <div id="tooltip" class="font-small-resp text-muted text-center">Press '?'' to start new game</div>

                                    </div>
                                </div>
                            </div>


                        </div>


                        <br>

                        <div class="row justify-content-center">

                            <div class="row">
                                <div class="col-6  col-sm-3 mb-2">

                                    <button type="button" class="btn btn-light border-dark mr-2" style="width: 100%" data-toggle="tooltip" data-placement="bottom" id="b1" title="Emerald">

                    <div id="crystal1" class="font-small-resp card-header">
                      Emerald
                    </div>

                    <img id="img1"  src="assets/images/crystal1.jpg" style="width: 100%" alt="">
                  </button>

                                </div>

                                <div class="col-6 col-sm-3">

                                    <button type="button" class="btn btn-light border-dark  mr-2" style="width: 100%" data-toggle="tooltip" data-placement="bottom" id="b2" title="Emerald">

                    <div id="crystal2" class="font-small-resp card-header">
                      Emerald
                    </div>
                    <img  id="img2"  src="assets/images/crystal2.jpg" style="width: 100%" alt="">
                  </button>

                                </div>

                                <div class="col-6 col-sm-3">

                                    <button type="button" class="btn btn-light border-dark  mr-2 " style="width: 100%" data-toggle="tooltip" data-placement="bottom" id="b3" title="Emerald">
                    <div id="crystal3" class="font-small-resp card-header">
                      Emerald
                    </div>

                    <img id="img3" src="assets/images/crystal3.jpg" style="width: 100%" alt="">
                  </button>

                                </div>

                                <div class="col-6 col-sm-3">

                                    <button type="button" class="btn btn-light border-dark  mr-2" style="width: 100%" data-toggle="tooltip" data-placement="bottom" id="b4" title="Emerald">

                    <div  id="crystal4"  class="font-small-resp card-header">
                      Emerald
                    </div>

                    <img id="img4" src="assets/images/crystal4.jpg" style="width: 100%" alt="">
                  </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-3 ml-3">


                </div>

            </div>


        </div>

    </div>


    <script>
        var crystalArray = ["Emerald", "Jade", "Diamond", "Agate", "Malachite", "Obsidian", "Ruby", "Sapphire", "Tanzanite", "Iolite"];

        //create img array 
        var imgArray = [""];
        for (let index = 0; index < 9; index++) {
            imgArray[index] = "crystal" + (index + 1) + ".jpg";

        }


        var game = {
            randomNumber: 0,
            score: 0,
            wins: 0,
            loses: 0
        }
        var gems = {
            type: ["", "", "", ""],
            price: [0, 0, 0, 0],
            img: ["", "", "", ""]
        };



        var selected;

        function newGame(params) {
            game.score = 0;
            game.randomNumber = Math.floor(Math.random() * (+120 - +19) + +19);

            gems.type = crystalArray.sort(() => 0.5 - Math.random()).slice(0, 4);

            for (let index = 0; index < 4; index++) {
                gems.price[index] = Math.floor(Math.random() * (+12 - +1) + +1);
            }

            console.log(gems)
            $("#loses").text("Loses: " + game.loses)
            $("#wins").text("Wins: " + game.wins)

            $("#number").text(game.randomNumber);
            gems.img = imgArray.sort(() => 0.5 - Math.random()).slice(0, 4);

            $("#img1").attr("src", "assets/images/" + gems.img[0])
            $("#img2").attr("src", "assets/images/" + gems.img[1])
            $("#img3").attr("src", "assets/images/" + gems.img[2])
            $("#img4").attr("src", "assets/images/" + gems.img[3])


            $("#crystal1").text(gems.type[0])
            $("#crystal2").text(gems.type[1])
            $("#crystal3").text(gems.type[2])
            $("#crystal4").text(gems.type[3])

            $("#tooltip").text("Click crystals to increase your (hidden) score. If your score matches the random number you win!")
        }

        function addScore(selector) {
            game.score += gems.price[selector]
            console.log(game.score);
            if (game.score > game.randomNumber) {
                game.loses++
                    newGame();
            } else if (game.score === game.randomNumber) {
                game.wins++
                    newGame();
            }
        }

        $("#start").on("click", function(params) {

            newGame();


        })


        $(document).ready(function() {
            $('.toast').toast('show');


            //Sort and load new headers and imgs
        });


        $("#b1").on("click", function(event) {
            addScore(0);
        })


        $("#b2").on("click", function(event) {
            addScore(1);


        })


        $("#b3").on("click", function(event) {

            addScore(2);

        })


        $("#b4").on("click", function(event) {
            addScore(3);


        })
    </script>



</body>

</html>